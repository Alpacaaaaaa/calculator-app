
#  已有内容
当前main分支主要合并了mode1数值计算部分，主要的文件是calculator.py（其中定义Calculator类），solver.py（其中定义solver类），MATRICES.py（其中定义mat_Calculator类）。我觉得可以先合并一下calculator.py，这部分已经比较稳定了。

合并时calculator.py只需要在主界面文件中加入```from calculator import Calculator```，并且把calculator.py文件中148行```self.show()```注释掉在主界面中构造一个Calculator对象并嵌入到stackedwidget的页面中就行。

主要问题是，Calculator对象自带一个工具栏，主界面应该会有一个工具栏，这两个怎么调。

main分支已合并mode2符号计算已完成部分。目前可实现：普通计算， 符号表达式化简， 直接求解一元（含符号）方程， 求解一重不定积分。

另外，已添加mode3，能绘制数学函数在某一区间内的图像。

## 关于出现问题

- 首先是工具栏冲突的问题，我的方法是保留对Qmainwindow的继承属性，主界面避免使用工具栏，而是使用菜单栏。目前的问题是，似乎有点丑。

- 另外，因为三个图形界面并不是按照统一格式写的，所以ui很丑。

## 关于目前发现的小bug

### mode1：

- 空白情况下连按3个小数点会报错。

    已经修复。`sympy.sympify()`会把`...`识别为`Ellipsis`常量...
- 在先计算表达式1后不用任何运算符连接，直接进行表达式2的计算，结果会显示表达式2的结果，但是表达式处会显示12两个表达式

    已经修复。现在会直接抛个异常
- 连续多次输入+或者-可以看做一个运算，但是连续输入多个乘号时输出均为0，同理除号会显示无穷，所以猜测可能是多个乘号或者除号会被认为是0（+-也有可能是0？）

    这个实际上是连续的运算符之间默认被插入了数字0来使得表达式有意义。（`1*+*=`$\to$ `1*(0)+(0)*(0)=`）。现在乘除号与乘方符号前的默认数字改成了1

### mode2：

- lg没有用,已解决
- 先输入一个数，然后用bck键把它删掉，在复数模块里还是能看到。如果用CE键清空，需要连续点两次才能在复数模块里清空

    已修复，调整了表达式清空的顺序。

### mode3：

- 当对0取10为底对数时不报错
- 点击plot键时报warning：`QCoreApplication::exec: The event loop is already running`
- 个人建议如果禁止键盘输入强制点按键输入的话最好还是用QLabel来显示，而不是用QLineEdit，误导性太强了，每次都忍不住直接键盘输入...或者给每个按键加一个快捷键
